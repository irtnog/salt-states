satosa_proxy:
  base_url:
    http://localhost
  cookie_state_name:
    SATOSA_STATE
  state_encryption_key:
    ''
  backend_modules:
    - saml2_backend
  frontend_modules:
    - saml2_frontend
  microservices:
    - static_attributes
  user_id_hash_salt:
    ''
  log_formatter:
    "[%(asctime)-19.19s] [%(levelname)-5.5s]: %(message)s"
  log_levels:
    satosa:
      INFO
  root_log_level:
    INFO

satosa_internal_attributes:
  attributes:
    address:
      openid: [address.street_address]
      orcid: [addresses.str]
      saml: [postaladdress]
    displayname:
      openid: [nickname]
      orcid: [name.credit-name]
      github: [login]
      saml: [displayName]
    edupersontargetedid:
      facebook: [id]
      linkedin: [id]
      orcid: [orcid]
      github: [id]
      openid: [sub]
      saml: [eduPersonTargetedID]
    givenname:
      facebook: [first_name]
      linkedin: [email-address]
      orcid: [name.given-names.value]
      openid: [given_name]
      saml: [givenName]
    mail:
      facebook: [email]
      linkedin: [email-address]
      orcid: [emails.str]
      github: [email]
      openid: [email]
      saml: [email, emailAdress, mail]
    name:
      facebook: [name]
      orcid: [name.credit-name]
      github: [name]
      openid: [name]
      saml: [cn]
    surname:
      facebook: [last_name]
      linkedin: [lastName]
      orcid: [name.family-name.value]
      openid: [family_name]
      saml: [sn, surname]
  hash: [edupersontargetedid]
  user_id_from_attrs: [edupersontargetedid]
  user_id_to_attr: edupersontargetedid

pysaml2_common_args:
  - entityid
  - xmlsec_binary
  - debug
  - key_file
  - cert_file
  - encryption_keypairs
  - additional_cert_files
  - metadata_key_usage
  - secret
  - accepted_time_diff
  - name
  - ca_certs
  - description
  - valid_for
  - verify_ssl_cert
  - organization
  - contact_person
  - name_form
  - virtual_organization
  - logger
  - only_use_keys_in_metadata
  - disable_ssl_certificate_validation
  - preferred_binding
  - session_storage
  - entity_category
  - xmlsec_path
  - extension_schemas
  - cert_handler_extra_class
  - generate_cert_func
  - generate_cert_info
  - verify_encrypt_cert_advice
  - verify_encrypt_cert_assertion
  - tmp_cert_file
  - tmp_key_file
  - validate_certificate
  - extensions
  - allow_unknown_attributes
  - crypto_backend

pysaml2_sp_args:
  - required_attributes
  - optional_attributes
  - idp
  - aa
  - subject_data
  - want_response_signed
  - want_assertions_signed
  - want_assertions_or_response_signed
  - authn_requests_signed
  - name_form
  - endpoints
  - ui_info
  - discovery_response
  - allow_unsolicited
  - ecp
  - name_id_format
  - name_id_format_allow_create
  - logout_requests_signed
  - requested_attribute_name_format
  - hide_assertion_consumer_service
  - force_authn
  - sp_type
  - sp_type_in_metadata
  - requested_attributes

pysaml2_aa_idp_args:
  - sign_assertion
  - sign_response
  - encrypt_assertion
  - encrypted_advice_attributes
  - encrypt_assertion_self_contained
  - want_authn_requests_signed
  - want_authn_requests_only_with_valid_cert
  - provided_attributes
  - subject_data
  - sp
  - scope
  - endpoints
  - metadata
  - ui_info
  - name_id_format
  - domain
  - name_qualifier
  - edu_person_targeted_id

satosa_saml2_backend:
  ## TODO: idp_blacklist
  cert: ~
  key: ~
  organization:
    Example Identities
  organization_display_name:    # optional
    ''
  organization_url:
    https://www.example.com/
  support_contact:
    Example Identities Network Operations Center
  support_email:
    noc@example.com
  technical_contact:            # optional
    ''
  technical_email:
    ''
  metadata:
    local: []
    remote: []
  entityid:
    <base_url>/<name>/proxy_saml2_backend.xml
  accepted_time_diff:
    60
  want_response_signed:
    True
  endpoints:
    assertion_consumer_service:
      - [<base_url>/<name>/acs/post, 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST']
      - [<base_url>/<name>/acs/redirect, 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect']
    discovery_response:
      - [<base_url>/<name>/disco, 'urn:oasis:names:tc:SAML:profiles:SSO:idp-discovery-protocol']
  allow_unsolicited:
    True
  name_id_format:
    urn:oasis:names:tc:SAML:2.0:nameid-format:transient
  disco_srv:
    http://disco.example.com

satosa_saml2_frontend:
  cert: ~
  key: ~
  organization:
    Example Identities
  organization_display_name:    # optional
    ''
  organization_url:
    https://www.example.com/
  support_contact:
    Example Identities Network Operations Center
  support_email:
    noc@example.com
  technical_contact:            # optional
    ''
  technical_email:
    ''
  metadata:
    local: []
    remote: []
  entityid:
    <base_url>/<name>/proxy.xml
  accepted_time_diff:
    60
  name: Proxy IdP
  name_id_format:
    - 'urn:oasis:names:tc:SAML:2.0:nameid-format:persistent'
    - 'urn:oasis:names:tc:SAML:2.0:nameid-format:transient'
  policy:
    default:
      attribute_restrictions: null
      fail_on_missing_requested: false
      lifetime: {minutes: 15}
      name_form: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
  acr_mapping:
    ## probably just examples and not recommended defaults
    # '': default-LoA
    # 'https://accounts.google.com': LoA1
    '': urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified
  endpoints:
    single_sign_on_service:
      'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST':
        sso/post
      'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect':
        sso/redirect
