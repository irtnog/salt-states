{%- import_yaml "emacs/defaults.yaml" as default_settings %}

{%- set distro_map = salt['grains.filter_by']({
      'FreeBSD': {
        'packages': [
          'emacs25',
        ],
      },

      'Solaris': {
        'packages': [
          'gnu-emacs',
        ],
      },

      'default': {},
    }) %}

{%- do default_settings.emacs.update(distro_map) %}

{%- set emacs_settings = salt['pillar.get'](
      'emacs',
      default=default_settings.emacs,
      merge=True
    ) %}
