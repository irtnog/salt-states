{% import_yaml "cvs/defaults.yaml" as default_settings %}

{% set distro_map = salt['grains.filter_by']({
    'Gentoo': {
      'packages': [
        'dev-vcs/cvs',
      ],
    },
    'Windows': {
      'packages': [
        'tortoise-cvs',
      ],
    },
    'default': {},
  }) %}

{% do default_settings.cvs.update(distro_map) %}

{% set cvs_settings = salt['pillar.get'](
    'cvs',
    default=default_settings.cvs,
    merge=True
  ) %}
